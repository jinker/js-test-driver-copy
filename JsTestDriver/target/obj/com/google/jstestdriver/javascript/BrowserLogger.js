jstestdriver.BrowserLogger=function(a,b){this.sendToServer_=a;this.id_=b};jstestdriver.BrowserLogger.create=function(a,d){var e=parseInt(jstestdriver.extractId(a));var c=a.match(/^(.*)\/(slave|runner|bcr)\//)[1];var b=c+"/log";return new jstestdriver.BrowserLogger(function(f){d({"async":true,"data":"logs="+JSON.stringify(f),"type":"POST","url":b})},e)};jstestdriver.BrowserLogger.prototype.isEnabled_=function(){var a=jstestdriver.runConfig&&jstestdriver.runConfig.debug;this.isEnabled_=function(){return a};return a};jstestdriver.BrowserLogger.prototype.log=function(g,h,f){if(this.isEnabled_()){var e=new Error();var a=e.stack?e.stack.split("\n"):[];var c=[];for(var d=0;a[d];d++){var b=a[d].indexOf("(");if(b>-1){c.push(a[d].substr(0,b).trim())}}c=c.length?c:["No stack available"];this.sendToServer_([new jstestdriver.BrowserLog(g,h,encodeURI(f),{"id":this.id_},encodeURI(c.toString()),new Date())])}};jstestdriver.BrowserLogger.prototype.debug=function(b,a){this.log(b,jstestdriver.BrowserLogger.LEVEL.DEBUG,a)};jstestdriver.BrowserLogger.prototype.info=function(b,a){this.log(b,jstestdriver.BrowserLogger.LEVEL.INFO,a)};jstestdriver.BrowserLogger.prototype.warn=function(b,a){this.log(b,jstestdriver.BrowserLogger.LEVEL.WARN,a)};jstestdriver.BrowserLogger.prototype.error=function(b,a){this.log(b,jstestdriver.BrowserLogger.LEVEL.ERROR,a)};jstestdriver.BrowserLogger.LEVEL={TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};